# Messenger Webhook Gateway configuration
# Copy this file to `.env` (or export the variables manually) before running the service.

# --- Facebook Messenger secrets -------------------------------------------------
# Use a 32+ character string for local development. Must match the HMAC secret used
# when computing `x-hub-signature-256` for webhook requests.
FB_APP_SECRET=replace-with-your-app-secret

# Page access token used for outbound Send API calls. In local testing you can
# supply any placeholder string until real tokens are available.
FB_PAGE_ACCESS_TOKEN=replace-with-your-page-token

# Pre-shared token for Facebook's webhook verification (GET /webhook handshake).
FB_WEBHOOK_VERIFY_TOKEN=replace-with-your-verify-token

# --- AG-UI agent integration ----------------------------------------------------
# Optional: configure these only when the gateway should call a live AG-UI
# endpoint. Leave them blank to disable outbound dispatch during local testing.
# Example base URL: https://example.agui.dev/agent/messenger-gateway
AGUI_BASE_URL=

# Bearer token paired with the AG-UI base URL above.
AGUI_API_KEY=

# --- Runtime configuration ------------------------------------------------------
# Port the Fastify server listens on; defaults to 8080 if unset.
PORT=8080

# Optional overrides for webhook rate limiting and Messenger behaviour.
# Comment these out to keep the defaults from the config loader.
WEBHOOK_RATE_LIMIT_MAX=60
WEBHOOK_RATE_LIMIT_WINDOW="1 minute"
MESSENGER_MAX_TEXT_LENGTH=2000
MESSENGER_TYPING_KEEP_ALIVE_MS=5000

# Log level passed to Pino (debug|info|warn|error). Leave blank to use defaults.
LOG_LEVEL=debug

# Session store driver: `memory` for local dev, `redis` when running with Redis.
SESSION_STORE_DRIVER=memory

# Redis connection URL required only when SESSION_STORE_DRIVER=redis.
REDIS_URL=redis://localhost:6379/0
